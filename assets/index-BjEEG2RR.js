import{d as U,bW as le,cs as te,r as d,w as M,O as k,o as r,c as N,e as B,B as I,C as h,F as v,G as w,H as T,Z as F,Y as V,f as $,bY as H,a0 as O,k as oe,cB as ae,c0 as ne,K as j,ad as se,a6 as A,h as G,c2 as ie,c3 as re,cD as ce}from"./index-BiiIy8BH.js";import{i as pe}from"./index-Dkk57we6.js";import{E as ue}from"./empty-B_ITTikW.js";const de=U({name:"IconGrid",components:{ElEmpty:ue,ElScrollbar:le,EleTooltip:te},props:{icon:String,data:{type:Array,required:!0},emptyProps:Object,tooltip:Boolean,tooltipProps:Object,popperVisible:Boolean,gridStyle:Object,itemStyle:Object},emits:{select:e=>!0},setup(e,{emit:n}){const i=d(!1),f=d(""),c=d(),m=t=>{i.value=t},s=()=>{m(!1)},a=(t,o)=>{e.tooltip&&e.popperVisible&&t&&(c.value=o.currentTarget,f.value=t,i.value=!0)},p=t=>{n("select",t)};return M(()=>e.popperVisible,t=>{t||s()}),{tooltipVisible:i,tooltipContent:f,virtualRef:c,updateTooltipVisible:m,hideTooltip:s,handleItemHover:a,handleItemClick:p}}}),ve=(e,n)=>{const i=e.__vccOpts||e;for(const[f,c]of n)i[f]=c;return i},fe=["title","onClick","onMouseover"],me={key:0,class:"ele-icon-select-empty"};function ye(e,n,i,f,c,m){const s=k("ElEmpty"),a=k("EleTooltip"),p=k("ElScrollbar");return r(),N(p,{class:"ele-icon-select-body"},{default:B(()=>[I("div",{class:"ele-icon-select-grid",style:h(e.gridStyle)},[(r(!0),v(w,null,T(e.data,(t,o)=>(r(),v("div",{key:o+"-"+t,class:F(["ele-icon-select-item",{"is-active":e.icon&&t===e.icon}]),title:e.tooltip?void 0:t,style:h(e.itemStyle),onClick:u=>e.handleItemClick(t),onMouseover:u=>e.handleItemHover(t,u)},[V(e.$slots,"icon",{icon:t})],46,fe))),128))],4),!e.data||!e.data.length?(r(),v("div",me,[$(s,H({imageSize:60},e.emptyProps||{}),null,16)])):O("",!0),$(a,H({placement:"top",offset:6,teleported:!1},e.tooltipProps||{},{visible:e.tooltipVisible,content:e.tooltipContent,virtualRef:e.virtualRef,virtualTriggering:!0,"onUpdate:visible":e.updateTooltipVisible}),null,16,["visible","content","virtualRef","onUpdate:visible"])]),_:3})}const he=ve(de,[["render",ye]]),be={modelValue:String,data:{type:Array,required:!0},disabled:Boolean,size:String,clearable:Boolean,placeholder:String,automaticDropdown:Boolean,filterable:[Boolean,String],teleported:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},placement:{type:String,default:"bottom-start"},transition:{type:String,default:"el-zoom-in-top"},popperOptions:Object,popperClass:String,popperWidth:{type:[Number,String],default:414},popperHeight:{type:[Number,String],default:260},selectStyle:Object,inputStyle:Object,selectTagsStyle:Object,hideOnSingleTab:Boolean,emptyProps:Object,tooltip:{type:Boolean,default:!0},tooltipProps:Object,headerStyle:Object,tabsStyle:Object,searchStyle:Object,menusStyle:Object,bodyStyle:Object,gridStyle:Object,itemStyle:Object,filterPlaceholder:{type:String,default:""},responsive:{type:Boolean,default:null}},Se={"update:modelValue":e=>!0,change:e=>!0,visibleChange:e=>!0,clear:()=>!0,focus:e=>!0,blur:e=>!0},ge=U({name:"EleIconSelect",components:{ElInput:oe,EleBasicSelect:pe,IconGrid:he},props:be,emits:Se,setup(e,{emit:n}){const{validateChange:i}=ae(),f=ne(e),c=d(null),m=d(!1),s=d([]),a=d(),p=d([]),t=d(),o=d([]),u=d(""),W=j(()=>!(!s.value||!s.value.length||e.hideOnSingleTab&&s.value.length===1)),q=j(()=>{const l=["ele-icon-select-popper"];return f.value&&l.push("is-responsive"),e.popperClass&&l.push(e.popperClass),l.join(" ")}),Y=j(()=>{if(e.popperHeight)return{height:typeof e.popperHeight=="number"?`${e.popperHeight}px`:e.popperHeight}}),K=()=>{c.value&&c.value.updatePopper()},g=()=>{if(e.data==null||!e.data.length||typeof e.data[0]=="string"){s.value=[],p.value=[],a.value=void 0,t.value=void 0,o.value=E(e.data);return}s.value=e.data.map(y=>y.title),(a.value==null||a.value>=s.value.length)&&(a.value=0);const l=e.data[a.value];if(typeof l!="string"&&l.children!=null&&l.children.length){p.value=l.children.map(y=>y.title),(t.value==null||t.value>=p.value.length)&&(t.value=0),o.value=E(l.children[t.value].icons);return}p.value=[],t.value=void 0,o.value=typeof l!="string"?E(l.icons):[]},E=l=>{if(!l)return[];if(!u.value)return l;const y=u.value.toLowerCase();return l.filter(b=>b.toLowerCase().includes(y))},P=l=>{l&&R(""),m.value!==l&&(m.value=l,n("visibleChange",l))},z=l=>{ce(l,e.modelValue)&&(n("update:modelValue",l),i(),n("change",l))},Z=()=>{z(null),P(!1),n("clear")},J=l=>{n("focus",l)},Q=l=>{n("blur",l)},R=l=>{var y;if(u.value!==l&&(u.value=l),g(),!(!((y=e.data)!=null&&y.length)||o.value.length))for(let b=0;b<e.data.length;b++){const S=e.data[b];if(typeof S=="string")return;const L=u.value.toLowerCase();if(S.children!=null&&S.children.length)for(let C=0;C<S.children.length;C++){const D=S.children[C].icons;if(D&&D.some(ee=>ee.toLowerCase().includes(L))){t.value=C,a.value=b,g();return}}else if(S.icons!=null&&S.icons.some(C=>C.toLowerCase().includes(L))){a.value=b,g();return}}},X=l=>{a.value=l,g()},_=l=>{t.value=l,g()},x=l=>{z(l),P(!1)};return M(()=>e.data,()=>{g()},{immediate:!0,deep:!0}),{SearchOutlined:se,selectRef:c,selectVisible:m,tabs:s,tabActive:a,menus:p,menuActive:t,icons:o,keywords:u,tabBar:W,selectPopperClass:q,iconPopperStyle:Y,updatePopover:K,updateVisible:P,handleSelectClear:Z,handleSelectFocus:J,handleSelectBlur:Q,handleSelectFilter:R,handleTabClick:X,handleMenuClick:_,handleIconSelect:x}}}),Ce=(e,n)=>{const i=e.__vccOpts||e;for(const[f,c]of n)i[f]=c;return i},ke=["onClick"],Ve={class:"ele-icon-select-main"},Oe=["onClick"];function Be(e,n,i,f,c,m){const s=k("ElInput"),a=k("IconGrid"),p=k("EleBasicSelect");return r(),N(p,{ref:"selectRef",value:e.modelValue,multiple:!1,disabled:e.disabled,size:e.size,clearable:e.clearable,placeholder:e.placeholder,automaticDropdown:e.automaticDropdown,filterable:typeof e.filterable=="boolean"?e.filterable:!1,teleported:e.teleported,persistent:e.persistent,placement:e.placement,transition:e.transition,popperWidth:e.popperWidth,popperOptions:e.popperOptions,popperClass:e.selectPopperClass,selectClass:"is-icon-select",selectStyle:e.selectStyle,inputStyle:e.inputStyle,selectTagsStyle:e.selectTagsStyle,selectedLabel:e.modelValue,visible:e.selectVisible,"onUpdate:visible":e.updateVisible,onFilterChange:e.handleSelectFilter,onClear:e.handleSelectClear,onFocus:e.handleSelectFocus,onBlur:e.handleSelectBlur},A({default:B(()=>[I("div",{class:"ele-icon-select",style:h(e.iconPopperStyle)},[e.tabBar||e.filterable==="popper"?(r(),v("div",{key:0,class:"ele-icon-select-header",style:h(e.headerStyle)},[V(e.$slots,"tabLeftExtra"),e.tabBar?(r(),v("div",{key:0,class:"ele-icon-select-tabs",style:h(e.tabsStyle)},[(r(!0),v(w,null,T(e.tabs,(t,o)=>(r(),v("div",{key:o+"-"+t,class:F(["ele-icon-select-tab",{"is-active":o===e.tabActive}]),onClick:u=>e.handleTabClick(o)},G(t),11,ke))),128))],4)):O("",!0),e.filterable==="popper"?(r(),v("div",{key:1,class:"ele-icon-select-search",style:h(e.searchStyle)},[$(s,{size:"small",clearable:!0,modelValue:e.keywords,validateEvent:!1,prefixIcon:e.SearchOutlined,placeholder:e.filterPlaceholder,"onUpdate:modelValue":e.handleSelectFilter},null,8,["modelValue","prefixIcon","placeholder","onUpdate:modelValue"])],4)):O("",!0),V(e.$slots,"tabRightExtra")],4)):O("",!0),I("div",Ve,[e.menus&&e.menus.length?(r(),v("div",{key:0,class:"ele-icon-select-menus",style:h(e.menusStyle)},[(r(!0),v(w,null,T(e.menus,(t,o)=>(r(),v("div",{key:o+"-"+t,class:F(["ele-icon-select-menu",{"is-active":o===e.menuActive}]),onClick:u=>e.handleMenuClick(o)},G(t),11,Oe))),128))],4)):O("",!0),$(a,{data:e.icons,icon:e.modelValue,emptyProps:e.emptyProps,tooltip:e.tooltip,tooltipProps:e.tooltipProps,popperVisible:e.selectVisible,gridStyle:e.gridStyle,itemStyle:e.itemStyle,style:h(e.bodyStyle),onSelect:e.handleIconSelect},A({_:2},[e.$slots.icon?{name:"icon",fn:B(t=>[V(e.$slots,"icon",ie(re(t||{})))]),key:"0"}:void 0]),1032,["data","icon","emptyProps","tooltip","tooltipProps","popperVisible","gridStyle","itemStyle","style","onSelect"])])],4)]),_:2},[e.modelValue&&e.$slots.icon?{name:"prefix",fn:B(()=>[V(e.$slots,"icon",{icon:e.modelValue,prefix:!0})]),key:"0"}:void 0]),1032,["value","disabled","size","clearable","placeholder","automaticDropdown","filterable","teleported","persistent","placement","transition","popperWidth","popperOptions","popperClass","selectStyle","inputStyle","selectTagsStyle","selectedLabel","visible","onUpdate:visible","onFilterChange","onClear","onFocus","onBlur"])}const je=Ce(ge,[["render",Be]]);export{je as i};
