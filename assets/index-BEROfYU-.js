import{i as Ce}from"./index-B3KaCODP.js";import{d as I,o as g,F as D,B as w,C as re,h as A,a0 as pe,Z as Te,cB as Ke,c0 as Re,r as V,K as Z,cC as z,w as Q,a4 as $e,O as ie,c as C,a6 as ue,e as a,Y as X,c2 as ce,c3 as de,f as o,bY as Ee,H as L,n as q,cD as ne,b as U,G,g as E,cE as le,y as M,p as me,q as fe,a as ze,i as ee,j as Ie,k as Oe,l as Pe,cF as Be,x as Ne,_ as De,E as Ue}from"./index-BiiIy8BH.js";import{i as W}from"./index-CIoy1qQK.js";import{i as Fe}from"./index-Dkk57we6.js";import{i as je,a as Ae}from"./index-BQNCTEdX.js";import"./index-DkgahQ27.js";import"./index-n3iKJaD_.js";import"./index-C6LSuDqi.js";import"./empty-B_ITTikW.js";import"./virtual-list-8KMurCcU.js";import"./index-ZMGHT5nN.js";import"./index-BQkjKN4u.js";import{l as te,p as be}from"./sysUserApi-BptSlCvq.js";import{E as Le,a as Me}from"./col-C4RHHrqY.js";import"./vuedraggable.umd-CNv-yK7O.js";const We={type:String,color:String,ripple:{type:Boolean,default:!0},text:String,size:{type:String,default:"6px"}},Je=I({name:"EleDot",props:We}),qe=(e,t)=>{const c=e.__vccOpts||e;for(const[i,n]of t)c[i]=n;return c},Ge={key:0,class:"ele-dot-text"};function Ye(e,t,c,i,n,r){return g(),D("span",{class:Te(["ele-dot",{"is-success":e.type==="success"},{"is-warning":e.type==="warning"},{"is-danger":e.type==="danger"},{"is-info":e.type==="info"},{"is-ripple":e.ripple}])},[w("span",{class:"ele-dot-status",style:re({width:e.size,height:e.size,background:e.color})},[w("span",{class:"ele-dot-ripple",style:re({width:e.size,height:e.size,background:e.color})},null,4)],4),e.text?(g(),D("span",Ge,A(e.text),1)):pe("",!0)],2)}const He=qe(Je,[["render",Ye]]),Ze={modelValue:{type:[String,Number,Boolean,Array],default:()=>null},multiple:Boolean,disabled:Boolean,size:String,clearable:Boolean,placeholder:String,valueKey:{type:String,default:"value"},labelKey:{type:String,default:"label"},initValue:[Object,Array],cacheData:Array,tableProps:{type:Object,required:!0},maxTagCount:Number,maxTagTextLength:Number,tagType:{type:String,default:"info"},automaticDropdown:Boolean,filterable:Boolean,teleported:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},placement:{type:String,default:"bottom-start"},transition:{type:String,default:"el-zoom-in-top"},popperOptions:Object,popperClass:String,popperWidth:[Number,String],selectStyle:Object,inputStyle:Object,selectTagsStyle:Object,responsive:{type:Boolean,default:null}},Qe={"update:modelValue":e=>!0,change:e=>!0,visibleChange:e=>!0,removeTag:e=>!0,clear:()=>!0,focus:e=>!0,blur:e=>!0,select:e=>!0,filterChange:e=>!0},Xe=I({name:"EleTableSelect",components:{EleBasicSelect:Fe,EleProTable:je},props:Ze,emits:Qe,setup(e,{emit:t}){const{validateChange:c}=Ke(),i=Re(e),n=V(null),r=V(null),p=V(!1),u=V([]),s=Z(()=>{const l=u.value;return!e.multiple&&l.length?l[0].label:""}),v=Z(()=>{if(!(e.multiple||z(e.modelValue)))return e.modelValue}),y=Z(()=>{if(!(!e.multiple||z(e.modelValue)))return e.modelValue}),T=Z(()=>{const l=["ele-table-select-popper"];return i.value&&l.push("is-responsive"),e.popperClass&&l.push(e.popperClass),l.join(" ")}),R=()=>{n.value&&n.value.updatePopper()},d=l=>{if(!z(l)){if(e.cacheData!=null){const _=e.cacheData.find(m=>m[e.valueKey]===l);if(_!=null)return _}if(!z(e.initValue))return e.multiple?e.initValue.find(_=>_[e.valueKey]===l):e.initValue}},h=(l,_,m,x,k)=>{if(m!=null){const K=_.indexOf(l);if(K!==-1)return m[K]}if(k!=null){const K=x.indexOf(l);if(K!==-1)return k[K]}},f=()=>{const l=e.modelValue;if(z(l,!0))return[];const _=[],m=[];if(r.value&&(r.value.getSelectionRows()||[]).forEach(k=>{if(!k._isMock){const K=k[e.valueKey],N=l.indexOf(K);N!==-1&&(_.push({value:K,label:k[e.labelKey],index:N}),m.push(K))}}),m.length!==l.length){const{valueKey:x,cacheData:k,initValue:K}=e,N=k?k.map(O=>O[x]):[],oe=K?K.map(O=>O[x]):[];l.forEach(O=>{if(!m.includes(O)){const se=h(O,N,k,oe,K),ke=se?se[e.labelKey]:String(O),Ve=l.indexOf(O);_.push({value:O,label:ke,index:Ve})}})}return _.sort((x,k)=>x.index-k.index),_},b=l=>{if(!e.multiple){const m=e.modelValue,x=u.value.length?u.value[0]:null;if(z(m)){x!=null&&(u.value=[]);return}if(l||!x||x.value!==m){const k=r.value?r.value.getCurrentRow():null,N=(k&&k[e.valueKey]===m?k:void 0)||d(m),oe=N?N[e.labelKey]:String(m);u.value=[{label:oe,value:m}]}return}if(z(e.modelValue,!0)){u.value.length&&(u.value=[],q(()=>{R()}));return}const _=u.value.map(m=>m.value);(l||ne(e.modelValue,_,!0))&&(u.value=f(),q(()=>{R()}))},P=()=>{n.value&&n.value.focusSearchInput()},B=l=>{const _=e.valueKey;if(!e.multiple){const x=l[_];x===e.modelValue?b():S(x);return}const m=l.map(x=>x[_]);ne(e.modelValue,m,!0)?S(m):b()},S=l=>{ne(l,e.modelValue,e.multiple)&&(t("update:modelValue",l),c(),t("change",l))},$=l=>{var _;if(p.value!==l){if(p.value=l,l&&((_=e.tableProps)!=null&&_.virtual)&&r.value){const m=r.value.getTableRef();m!=null&&!m.wrapWidth&&q(()=>{m.updateWrapSize(),q(()=>{R()})})}t("visibleChange",l)}},F=l=>{const _=e.modelValue||[];S(_.filter(m=>m!==l.value)),t("removeTag",l.value)},Y=()=>{S(e.multiple?[]:null),$(!1),t("clear")},ae=l=>{t("focus",l)},j=l=>{t("blur",l)},H=l=>{t("filterChange",l)},_e=l=>{e.multiple&&S(l)},he=l=>{e.multiple||S(l)},ge=l=>{!e.multiple&&l!=null&&b(!0)},ye=()=>{e.multiple&&b(!0)},ve=l=>{var _;e.multiple?(_=e.tableProps)!=null&&_.rowClickChecked&&r.value&&!Ae(l,r.value.tableData.indexOf(l),r.value.tableProps.columns)&&t("select",r.value.getSelectionRows()||[]):($(!1),t("select",l))},Se=l=>{t("select",l)},we=l=>{t("select",l)},xe=()=>{q(()=>{R()})};return Q(()=>e.modelValue,()=>{b()},{deep:!0}),Q(()=>e.cacheData,()=>{b(!0)}),Q(()=>e.initValue,l=>{z(l)||B(l)},{deep:!0}),Q(()=>e.disabled,l=>{l&&$(!1)}),$e(()=>{z(e.initValue,e.multiple)?z(e.modelValue,e.multiple)||b():B(e.initValue)}),{selectRef:n,tableRef:r,selectVisible:p,selectedItems:u,selectedLabel:s,currentRowKey:v,selectedRowKeys:y,selectPopperClass:T,updatePopover:R,updateSelectedItems:b,focusSearchInput:P,updateVisible:$,handleSelectRemove:F,handleSelectClear:Y,handleSelectFocus:ae,handleSelectBlur:j,handleSelectFilter:H,updateSelectedRowKeys:_e,updateCurrentRowKey:he,handleTableCurrentChange:ge,handleTableSelectionChange:ye,handleTableRowClick:ve,handleTableSelect:Se,handleTableSelectAll:we,handleTableDone:xe}}}),el=(e,t)=>{const c=e.__vccOpts||e;for(const[i,n]of t)c[i]=n;return c};function ll(e,t,c,i,n,r){const p=ie("EleProTable"),u=ie("EleBasicSelect");return g(),C(u,{ref:"selectRef",value:e.modelValue,multiple:e.multiple,disabled:e.disabled,size:e.size,clearable:e.clearable,placeholder:e.placeholder,maxTagCount:e.maxTagCount,maxTagTextLength:e.maxTagTextLength,tagType:e.tagType,automaticDropdown:e.automaticDropdown,filterable:e.filterable,teleported:e.teleported,persistent:e.persistent,placement:e.placement,transition:e.transition,popperWidth:e.popperWidth,popperOptions:e.popperOptions,popperClass:e.selectPopperClass,selectStyle:e.selectStyle,inputStyle:e.inputStyle,selectTagsStyle:e.selectTagsStyle,selectedLabel:e.selectedLabel,selected:e.selectedItems,visible:e.selectVisible,"onUpdate:visible":e.updateVisible,onFilterChange:e.handleSelectFilter,onRemoveTag:e.handleSelectRemove,onClear:e.handleSelectClear,onFocus:e.handleSelectFocus,onBlur:e.handleSelectBlur},ue({default:a(()=>[X(e.$slots,"topExtra"),o(p,Ee({"onUpdate:selectedRowKeys":e.updateSelectedRowKeys,"onUpdate:currentRowKey":e.updateCurrentRowKey,onSelectionChange:e.handleTableSelectionChange,onCurrentChange:e.handleTableCurrentChange,onRowClick:e.handleTableRowClick,onSelect:e.handleTableSelect,onSelectAll:e.handleTableSelectAll,onDone:e.handleTableDone},e.tableProps||{},{ref:"tableRef",rowKey:e.valueKey,reserveCurrent:!0,highlightCurrentRow:!e.multiple,currentRowKey:e.currentRowKey,selectedRowKeys:e.selectedRowKeys}),ue({_:2},[L(Object.keys(e.$slots).filter(s=>!["topExtra","bottomExtra","maxTagPlaceholder"].includes(s)),s=>({name:s,fn:a(v=>[X(e.$slots,s,ce(de(v||{})))])}))]),1040,["onUpdate:selectedRowKeys","onUpdate:currentRowKey","onSelectionChange","onCurrentChange","onRowClick","onSelect","onSelectAll","onDone","rowKey","highlightCurrentRow","currentRowKey","selectedRowKeys"]),X(e.$slots,"bottomExtra")]),_:2},[e.$slots.maxTagPlaceholder?{name:"maxTagPlaceholder",fn:a(s=>[X(e.$slots,"maxTagPlaceholder",ce(de(s||{})))]),key:"0"}:void 0]),1032,["value","multiple","disabled","size","clearable","placeholder","maxTagCount","maxTagTextLength","tagType","automaticDropdown","filterable","teleported","persistent","placement","transition","popperWidth","popperOptions","popperClass","selectStyle","inputStyle","selectTagsStyle","selectedLabel","selected","visible","onUpdate:visible","onFilterChange","onRemoveTag","onClear","onFocus","onBlur"])}const J=el(Xe,[["render",ll]]),tl={style:{"max-width":"260px"}},al={style:{"margin-top":"14px"}},ol=I({__name:"demo-basic",setup(e){const t=V(),c=U({datasource:[],columns:[{type:"index",columnKey:"index",width:50,align:"center",fixed:"left"},{prop:"username",label:"用户账号",sortable:"custom"},{prop:"nickname",label:"用户名",sortable:"custom",slot:"nickname"},{prop:"sexName",label:"性别",sortable:"custom",width:80},{columnKey:"roles",label:"角色",slot:"roles"}],showOverflowTooltip:!0,highlightCurrentRow:!0,toolbar:!1,pagination:{pageSize:6,layout:"total, prev, pager, next, jumper",style:{padding:"0px"}},rowStyle:{cursor:"pointer"}});te().then(n=>{c.datasource=n});const i=()=>{t.value=40};return(n,r)=>{const p=le,u=J,s=M,v=W;return g(),C(v,{header:"基础用法"},{default:a(()=>[w("div",tl,[o(u,{clearable:"",placeholder:"请选择","value-key":"userId","label-key":"nickname",modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=y=>t.value=y),"table-props":c,"popper-width":580,"popper-options":{strategy:"fixed"}},{roles:a(({row:y})=>[(g(!0),D(G,null,L(y.roles,T=>(g(),C(p,{key:T.roleId,size:"small","disable-transitions":!0},{default:a(()=>[E(A(T.roleName),1)]),_:2},1024))),128))]),_:1},8,["modelValue","table-props"])]),w("div",al,[o(s,{type:"primary",onClick:i},{default:a(()=>[E("回显数据")]),_:1})])]),_:1})}}}),nl={style:{"max-width":"260px"}},sl={style:{"margin-top":"12px",display:"flex","align-items":"center"}},rl=w("div",{style:{"padding-right":"12px"}},"禁用:",-1),il={style:{"margin-top":"8px"}},ul=I({__name:"demo-basic-page",setup(e){const t=V(),c=U({datasource:({pages:u,where:s,orders:v})=>be({...s,...v,...u}),columns:[{type:"index",columnKey:"index",width:50,align:"center",fixed:"left"},{prop:"username",label:"用户账号",sortable:"custom"},{prop:"nickname",label:"用户名",sortable:"custom",slot:"nickname"},{prop:"sexName",label:"性别",sortable:"custom",width:80},{columnKey:"roles",label:"角色",slot:"roles"}],showOverflowTooltip:!0,highlightCurrentRow:!0,toolbar:!1,pagination:{pageSize:6,layout:"total, prev, pager, next, jumper",style:{padding:"0px"}},rowStyle:{cursor:"pointer"}}),i=V(!1),n=V(),r=()=>{n.value=[{userId:40,nickname:"管理员"}],t.value=40},p=u=>{console.log(JSON.parse(JSON.stringify(u)))};return(u,s)=>{const v=le,y=J,T=me,R=fe,d=M,h=W;return g(),C(h,{header:"表格后端分页"},{default:a(()=>[w("div",nl,[o(y,{clearable:"",placeholder:"请选择","value-key":"userId","label-key":"nickname",modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=f=>t.value=f),"table-props":c,"popper-width":580,disabled:i.value,"cache-data":n.value,onSelect:p,"popper-options":{strategy:"fixed"}},{roles:a(({row:f})=>[(g(!0),D(G,null,L(f.roles,b=>(g(),C(v,{key:b.roleId,size:"small","disable-transitions":!0},{default:a(()=>[E(A(b.roleName),1)]),_:2},1024))),128))]),_:1},8,["modelValue","table-props","disabled","cache-data"])]),w("div",sl,[rl,o(R,{modelValue:i.value,"onUpdate:modelValue":s[1]||(s[1]=f=>i.value=f)},{default:a(()=>[o(T,{value:!1,label:"否"}),o(T,{value:!0,label:"是"})]),_:1},8,["modelValue"])]),w("div",il,[o(d,{type:"primary",onClick:r},{default:a(()=>[E("回显数据")]),_:1})])]),_:1})}}}),cl={style:{"max-width":"260px"}},dl={style:{"margin-top":"12px",display:"flex","align-items":"center"}},pl=w("div",{style:{"padding-right":"12px"}},"禁用:",-1),ml={style:{"margin-top":"8px"}},fl=I({__name:"demo-multiple",setup(e){const t=V([]),c=U({datasource:[],columns:[{type:"selection",columnKey:"selection",width:50,align:"center",fixed:"left",reserveSelection:!0},{type:"index",columnKey:"index",width:50,align:"center",fixed:"left"},{prop:"username",label:"用户账号",sortable:"custom"},{prop:"nickname",label:"用户名",sortable:"custom",slot:"nickname"},{prop:"sexName",label:"性别",sortable:"custom",width:80},{columnKey:"roles",label:"角色",slot:"roles"}],showOverflowTooltip:!0,toolbar:!1,pagination:{pageSize:6,layout:"total, prev, pager, next, jumper",style:{padding:"0px"}},rowClickChecked:!0}),i=V(!1);te().then(r=>{c.datasource=r});const n=()=>{t.value=[40,44,45]};return(r,p)=>{const u=le,s=J,v=me,y=fe,T=M,R=W;return g(),C(R,{header:"多选"},{default:a(()=>[w("div",cl,[o(s,{multiple:"",clearable:"",placeholder:"请选择","value-key":"userId","label-key":"nickname",modelValue:t.value,"onUpdate:modelValue":p[0]||(p[0]=d=>t.value=d),"table-props":c,"popper-width":580,disabled:i.value,"max-tag-count":5,"popper-options":{strategy:"fixed"}},{roles:a(({row:d})=>[(g(!0),D(G,null,L(d.roles,h=>(g(),C(u,{key:h.roleId,size:"small","disable-transitions":!0},{default:a(()=>[E(A(h.roleName),1)]),_:2},1024))),128))]),_:1},8,["modelValue","table-props","disabled"])]),w("div",dl,[pl,o(y,{modelValue:i.value,"onUpdate:modelValue":p[1]||(p[1]=d=>i.value=d)},{default:a(()=>[o(v,{value:!1,label:"否"}),o(v,{value:!0,label:"是"})]),_:1},8,["modelValue"])]),w("div",ml,[o(T,{type:"primary",onClick:n},{default:a(()=>[E("回显数据")]),_:1})])]),_:1})}}}),bl=I({__name:"demo-advanced-search",emits:["search"],setup(e,{emit:t}){const c=t,[i,n]=ze({username:"",nickname:"",sexName:""}),r=()=>{c("search",{...i})},p=()=>{n(),r()};return(u,s)=>{const v=Oe,y=Pe,T=Le,R=Be,d=M,h=Me,f=Ne;return g(),C(f,{"label-width":"60px",size:"small",class:"demo-search",onSubmit:s[2]||(s[2]=Ie(()=>{},["prevent"]))},{default:a(()=>[o(h,null,{default:a(()=>[o(T,{lg:8,md:8,sm:24,xs:24},{default:a(()=>[o(y,{label:"用户名"},{default:a(()=>[o(v,{clearable:"",modelValue:ee(i).nickname,"onUpdate:modelValue":s[0]||(s[0]=b=>ee(i).nickname=b),modelModifiers:{trim:!0},placeholder:"请输入"},null,8,["modelValue"])]),_:1})]),_:1}),o(T,{lg:8,md:8,sm:24,xs:24},{default:a(()=>[o(y,{label:"性别"},{default:a(()=>[o(R,{code:"sex",modelValue:ee(i).sex,"onUpdate:modelValue":s[1]||(s[1]=b=>ee(i).sex=b),placeholder:"请选择",teleported:!1},null,8,["modelValue"])]),_:1})]),_:1}),o(T,{lg:8,md:8,sm:24,xs:24},{default:a(()=>[o(y,{"label-width":"12px"},{default:a(()=>[o(d,{type:"primary",onClick:r},{default:a(()=>[E("查询")]),_:1}),o(d,{onClick:p},{default:a(()=>[E("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),_l=De(bl,[["__scopeId","data-v-f90cc7aa"]]),hl={style:{"max-width":"260px"}},gl={style:{"margin-top":"14px"}},yl=w("div",{style:{margin:"22px 0 8px 0"}},"使用默认的搜索框:",-1),vl={style:{"max-width":"260px"}},Sl=I({__name:"demo-advanced",setup(e){const t=V([]),c=V(null),i=U({datasource:({pages:d,where:h,orders:f})=>be({...h,...f,...d}),columns:[{type:"selection",columnKey:"selection",width:50,align:"center",fixed:"left",reserveSelection:!0},{type:"index",columnKey:"index",width:50,align:"center",fixed:"left"},{prop:"username",label:"用户账号",sortable:"custom"},{prop:"nickname",label:"用户名",sortable:"custom",slot:"nickname"},{prop:"sexName",label:"性别",sortable:"custom",width:80},{columnKey:"roles",label:"角色",slot:"roles"}],showOverflowTooltip:!0,toolbar:!1,pagination:{pageSize:6,layout:"total, prev, pager, next, jumper",style:{padding:"0px"}},rowClickChecked:!0}),n=V(),r=()=>{n.value=[{userId:40,nickname:"管理员"},{userId:44,nickname:"用户四"},{userId:45,nickname:"用户五"}],t.value=[40,44,45]},p=d=>{var h,f,b;(b=(f=(h=c.value)==null?void 0:h.tableRef)==null?void 0:f.reload)==null||b.call(f,{where:d,page:1})},u=d=>{console.log(JSON.parse(JSON.stringify(d)))},s=V(),v=U({datasource:[],columns:[{type:"index",columnKey:"index",width:50,align:"center",fixed:"left"},{prop:"username",label:"用户账号",sortable:"custom"},{prop:"nickname",label:"用户名",sortable:"custom",slot:"nickname"},{prop:"sexName",label:"性别",sortable:"custom",width:80},{columnKey:"roles",label:"角色",slot:"roles"}],showOverflowTooltip:!0,highlightCurrentRow:!0,toolbar:!1,pagination:{pageSize:6,layout:"total, prev, pager, next, jumper",style:{padding:"0px"}},rowStyle:{cursor:"pointer"}});let y=[];te().then(d=>{v.datasource=d,y=d});const T=d=>{v.datasource=y.filter(h=>{var f,b,P,B,S,$,F,Y;return((b=(f=h.username)==null?void 0:f.includes)==null?void 0:b.call(f,d))||((B=(P=h.nickname)==null?void 0:P.includes)==null?void 0:B.call(P,d))||(($=(S=h.sexName)==null?void 0:S.includes)==null?void 0:$.call(S,d))||((Y=(F=h.roles)==null?void 0:F.some)==null?void 0:Y.call(F,ae=>{var j,H;return(H=(j=ae.roleName)==null?void 0:j.includes)==null?void 0:H.call(j,d)}))})},R=d=>{d&&(v.datasource=y)};return(d,h)=>{const f=le,b=J,P=M,B=W;return g(),C(B,{header:"可搜索"},{default:a(()=>[w("div",hl,[o(b,{ref_key:"selectRef",ref:c,multiple:"",clearable:"",placeholder:"请选择","value-key":"userId","label-key":"nickname",modelValue:t.value,"onUpdate:modelValue":h[0]||(h[0]=S=>t.value=S),"table-props":i,"popper-width":580,"cache-data":n.value,onSelect:u,"popper-options":{strategy:"fixed"}},{topExtra:a(()=>[o(_l,{onSearch:p})]),roles:a(({row:S})=>[(g(!0),D(G,null,L(S.roles,$=>(g(),C(f,{key:$.roleId,size:"small","disable-transitions":!0},{default:a(()=>[E(A($.roleName),1)]),_:2},1024))),128))]),_:1},8,["modelValue","table-props","cache-data"])]),w("div",gl,[o(P,{type:"primary",onClick:r},{default:a(()=>[E("回显数据")]),_:1})]),yl,w("div",vl,[o(b,{filterable:"",clearable:"",placeholder:"请选择","value-key":"userId","label-key":"nickname",modelValue:s.value,"onUpdate:modelValue":h[1]||(h[1]=S=>s.value=S),"table-props":v,"popper-width":580,onFilterChange:T,onVisibleChange:R,"popper-options":{strategy:"fixed"}},{roles:a(({row:S})=>[(g(!0),D(G,null,L(S.roles,$=>(g(),C(f,{key:$.roleId,size:"small","disable-transitions":!0},{default:a(()=>[E(A($.roleName),1)]),_:2},1024))),128))]),_:1},8,["modelValue","table-props"])])]),_:1})}}}),wl={style:{"max-width":"260px"}},xl={style:{"margin-top":"12px"}},kl=I({__name:"demo-virtual",setup(e){const t=V([]),c=U({virtual:!0,height:288,datasource:[],columns:[{type:"selection",columnKey:"selection",width:50,align:"center",fixed:"left",reserveSelection:!0},{prop:"username",label:"用户账号",sortable:"custom"},{prop:"nickname",label:"用户名",sortable:"custom",slot:"nickname"},{prop:"sex",label:"性别",sortable:"custom",width:80},{prop:"status",label:"状态",width:120,sortable:"custom",slot:"status"}],showOverflowTooltip:!0,toolbar:!1,pagination:{pageSize:1e3,pageSizes:[1e3,2e3],layout:"total, prev, pager, next, sizes",teleported:!1,style:{padding:"0px"}},rowClickChecked:!0}),i=()=>{t.value=[40,44,45]};return c.datasource=Array.from({length:2e3}).map((n,r)=>{const p=r+1,u="sysUser-"+String(p).padStart(6,"0"),s=Math.random();return{userId:p,username:u,nickname:"用户"+p,sex:s<.8?"男":"女",status:s<.2?"1":"0"}}),(n,r)=>{const p=He,u=J,s=M,v=W;return g(),C(v,{header:"虚拟滚动表格"},{default:a(()=>[w("div",wl,[o(u,{multiple:"",clearable:"",placeholder:"请选择","value-key":"userId","label-key":"nickname",modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=y=>t.value=y),"table-props":c,"popper-width":580,"max-tag-count":5,"popper-options":{strategy:"fixed"}},{status:a(({row:y})=>[y.status==0?(g(),C(p,{key:0,text:"正常",size:"8px"})):y.status==1?(g(),C(p,{key:1,text:"冻结",type:"danger",ripple:!1,size:"8px"})):pe("",!0)]),_:1},8,["modelValue","table-props"])]),w("div",xl,[o(s,{type:"primary",onClick:i},{default:a(()=>[E("回显数据")]),_:1})])]),_:1})}}}),Vl={style:{"max-width":"260px"}},Cl=I({__name:"demo-limit",setup(e){const t=V([]),c=U({datasource:[],columns:[{type:"selection",columnKey:"selection",width:50,align:"center",fixed:"left",reserveSelection:!0},{type:"index",columnKey:"index",width:50,align:"center",fixed:"left"},{prop:"username",label:"用户账号",sortable:"custom"},{prop:"nickname",label:"用户名",sortable:"custom",slot:"nickname"},{prop:"sexName",label:"性别",sortable:"custom",width:80}],showOverflowTooltip:!0,toolbar:!1,pagination:{pageSize:6,layout:"total, prev, pager, next, jumper",style:{padding:"0px"}},rowClickChecked:!0}),i=n=>{if(n&&n.length>5){Ue.error("最多只能选择 5 个"),t.value=n.slice(0,5);return}t.value=n};return te().then(n=>{c.datasource=n}),(n,r)=>{const p=J,u=W;return g(),C(u,{header:"限制选择数量"},{default:a(()=>[w("div",Vl,[o(p,{multiple:"",clearable:"",placeholder:"请选择","value-key":"userId","label-key":"nickname","model-value":t.value,"table-props":c,"popper-width":580,"popper-options":{strategy:"fixed"},"onUpdate:modelValue":i},null,8,["model-value","table-props"])])]),_:1})}}}),Al=I({name:"ExtensionTableSelect",__name:"index",setup(e){return(t,c)=>{const i=Ce;return g(),C(i,null,{default:a(()=>[o(ol),o(ul),o(fl),o(Sl),o(kl),o(Cl)]),_:1})}}});export{Al as default};
