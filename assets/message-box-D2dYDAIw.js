import{d as F,cn as h,co as B,aw as x,aC as I,ay as M,b3 as E,a_ as k,a4 as D,O as b,M as T,N as S,o as C,F as $,c as v,$ as L,a0 as O,e5 as A,eh as N,ct as j,cu as P,D as y,i as g,bL as G,d4 as U}from"./index-BiiIy8BH.js";const V=F({name:"MessageBoxIcon",components:{CloseOutlined:h,InfoCircleFilled:B,CheckCircleFilled:x,ExclamationCircleFilled:I,CloseCircleFilled:M},props:{type:String,icon:[String,Object,Function],boxId:String},emits:{boxDestroy:o=>!0,boxMounted:o=>!0},setup(o,{emit:c}){var t;const l=(t=E)==null?void 0:t();return k(()=>{c("boxDestroy",o.boxId)}),D(()=>{var p,d;c("boxMounted",{boxId:o.boxId,doClose:(d=(p=l==null?void 0:l.ctx)==null?void 0:p.$root)==null?void 0:d.doClose})}),{}}}),W=(o,c)=>{const t=o.__vccOpts||o;for(const[l,p]of c)t[l]=p;return t},q={class:"ele-message-box-icon"};function z(o,c,t,l,p,d){const s=b("CheckCircleFilled"),u=b("ExclamationCircleFilled"),_=b("CloseCircleFilled"),m=b("InfoCircleFilled");return T((C(),$("div",q,[o.icon?(C(),v(L(o.icon),{key:0})):o.type==="success"?(C(),v(s,{key:1})):o.type==="warning"?(C(),v(u,{key:2})):o.type==="error"?(C(),v(_,{key:3})):o.type==="info"?(C(),v(m,{key:4})):O("",!0)],512)),[[S,o.type||o.icon]])}const H=W(V,[["render",z]]);function J(o){const c=o||document.body,t="ele-message-box-wrapper",l=document.createElement("div");return l.classList.add(t),c.appendChild(l),l}function Q(o){var c,t;const l=A(),p=N("messageBox"),d=(t=(c=E)==null?void 0:c())==null?void 0:t.appContext,s={wrapEl:null,isActivated:!0,id:0},u=new Map,_="is-hide";j(()=>{s.isActivated=!0,s.wrapEl&&s.wrapEl.classList.remove(_)}),P(()=>{s.isActivated=!1,s.wrapEl&&s.wrapEl.classList.add(_)}),k(()=>{for(const[i,r]of u)r&&r();u.clear()});const m=i=>{s.id++;const r=`m_${s.id}`,e={...p.value||{},...o||{},...i||{}};e.inner?(e.appendTo==null&&l.modalsEl!=null?(s.wrapEl==null&&(s.wrapEl=J(l.modalsEl)),e.appendTo=s.wrapEl):e.appendTo!=null&&(e.appendTo=g(e.appendTo)),e.lockScroll=!1):e.appendTo!=null&&(e.appendTo=g(e.appendTo));const n=["ele-message-box"];return e.customClass&&n.push(e.customClass),e.customClass=n.join(" "),e.icon=G(H,{type:e.type,icon:e.icon,boxId:r,onBoxDestroy:a=>{a&&u.delete(a)},onBoxMounted:({boxId:a,doClose:w})=>{a&&u.set(a,w)}}),U(e,["inner"])},f=function(i){return y(m(i),d)};return f.alert=function(i,r,e,n){const a=n!=null?n:d;return y.alert(i,r,m(e),a)},f.confirm=function(i,r,e,n){const a=n!=null?n:d;return y.confirm(i,r,m(e),a)},f.prompt=function(i,r,e,n){const a=n!=null?n:d;return y.prompt(i,r,m(e),a)},f.close=function(){return y.close()},f}export{Q as u};
